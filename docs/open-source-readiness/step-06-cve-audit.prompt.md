# √âtape 6 : Audit des Vuln√©rabilit√©s (CVE)

> **Priorit√©** : üü° Haute | **Bloquant** : Non (mais fortement recommand√©)

## Objectif

Identifier et corriger les vuln√©rabilit√©s connues dans les d√©pendances du projet.

## Actions √† Ex√©cuter

### 1. Audit Backend (Maven/Java)

#### Avec OWASP Dependency Check

```bash
cd backend
./mvnw org.owasp:dependency-check-maven:check
```

Le rapport sera g√©n√©r√© dans `target/dependency-check-report.html`.

#### V√©rifier les mises √† jour disponibles

```bash
./mvnw versions:display-dependency-updates
./mvnw versions:display-plugin-updates
```

### 2. Audit Frontend (npm)

#### Scan des vuln√©rabilit√©s

```bash
cd frontend
npm audit
```

#### Afficher uniquement les vuln√©rabilit√©s critiques/hautes

```bash
npm audit --audit-level=high
```

#### Correction automatique

```bash
npm audit fix
```

#### Correction forc√©e (peut casser des compatibilit√©s)

```bash
npm audit fix --force
```

### 3. Audit des Images Docker

#### Avec Trivy

```bash
# Scanner l'image backend
trivy image serenia-backend:latest

# Scanner l'image frontend
trivy image serenia-frontend:latest

# Scanner le Dockerfile directement
trivy config backend/Dockerfile
trivy config frontend/Dockerfile
```

### 4. V√©rification des licences des d√©pendances

#### Backend

```bash
./mvnw license:third-party-report
```

#### Frontend

```bash
npx license-checker --summary
npx license-checker --onlyAllow "MIT;Apache-2.0;BSD-2-Clause;BSD-3-Clause;ISC"
```

### 5. Cr√©er un rapport de vuln√©rabilit√©s

| Composant | Outil | Vuln√©rabilit√©s Critiques | Vuln√©rabilit√©s Hautes | Action |
|-----------|-------|-------------------------|----------------------|--------|
| Backend | OWASP DC | ? | ? | Mettre √† jour |
| Frontend | npm audit | ? | ? | Mettre √† jour |
| Docker Backend | Trivy | ? | ? | Reconstruire |
| Docker Frontend | Trivy | ? | ? | Reconstruire |

## Crit√®res de Validation

- [ ] Aucune vuln√©rabilit√© critique non r√©solue
- [ ] Vuln√©rabilit√©s hautes document√©es avec plan de r√©solution
- [ ] Rapport OWASP Dependency Check g√©n√©r√©
- [ ] npm audit sans vuln√©rabilit√©s critiques
- [ ] Licences des d√©pendances compatibles avec la licence choisie

## Seuils Acceptables

| Niveau | Backend | Frontend | Bloquant |
|--------|---------|----------|----------|
| Critique | 0 | 0 | Oui |
| Haute | ‚â§ 3 | ‚â§ 3 | Non |
| Moyenne | ‚â§ 10 | ‚â§ 10 | Non |
| Basse | Illimit√© | Illimit√© | Non |

## √âtape Suivante

‚Üí [√âtape 7 : V√©rification des Commentaires](./step-07-comments-review.prompt.md)
