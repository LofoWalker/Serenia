# ========================================
# SERENIA APPLICATION CONFIGURATION
# ========================================

# ========================================
# 1. APPLICATION INFO
# ========================================
quarkus.application.name=Serenia
quarkus.http.port=${QUARKUS_HTTP_PORT:8080}

# ========================================
# 2. DATABASE CONFIGURATION
# ========================================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL}
quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME}
quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD}

# ========================================
# 3. LIQUIBASE MIGRATIONS
# ========================================
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.change-log=classpath:db/changelog/changelog.xml

# ========================================
# 4. HTTP & CORS CONFIGURATION
# ========================================
quarkus.http.cors.enabled=${CORS_ENABLED:true}
quarkus.http.cors.methods=${CORS_METHODS:GET,POST,PUT,DELETE,OPTIONS}
quarkus.http.cors.origins=${CORS_ORIGINS:http://localhost:4200}
quarkus.http.cors.access-control-allow-credentials=${CORS_ACCESS_CONTROL_ALLOW_CREDENTIALS:true}
quarkus.http.cors.headers=${CORS_ACCESS_CONTROL_ALLOW_HEADERS:Content-Type,Authorization,X-Requested-With,Origin,Accept}
quarkus.http.cors.exposed-headers=${CORS_ACCESS_CONTROL_EXPOSE_HEADERS:Authorization}

# ========================================
# 5. JWT SECURITY
# ========================================
mp.jwt.verify.publickey.location=${MP_JWT_VERIFY_PUBLICKEY_LOCATION}
mp.jwt.verify.issuer=${MP_JWT_VERIFY_ISSUER:serenia}
mp.jwt.token.header=${MP_JWT_TOKEN_HEADER:Authorization}
smallrye.jwt.sign.key.location=${SMALLRYE_JWT_SIGN_KEY_LOCATION}
smallrye.jwt.sign.key.id=${SMALLRYE_JWT_SIGN_KEY_ID:1}

# ========================================
# 6. SERENIA AUTHENTICATION
# ========================================
serenia.auth.jwt-issuer=${SERENIA_AUTH_JWT_ISSUER:serenia}
serenia.auth.expiration-time=${SERENIA_AUTH_EXPIRATION_TIME}
serenia.auth.max-users=${SERENIA_AUTH_MAX_USERS}

# ========================================
# 7. SERENIA TOKEN QUOTAS
# ========================================
serenia.tokens.input-limit-default=${SERENIA_TOKENS_INPUT_LIMIT_DEFAULT}
serenia.tokens.output-limit-default=${SERENIA_TOKENS_OUTPUT_LIMIT_DEFAULT}
serenia.tokens.total-limit-default=${SERENIA_TOKENS_TOTAL_LIMIT_DEFAULT}

# ========================================
# 8. EMAIL VERIFICATION CONFIGURATION
# ========================================
quarkus.mailer.from=${QUARKUS_MAILER_FROM}
quarkus.mailer.host=${QUARKUS_MAILER_HOST}
quarkus.mailer.port=${QUARKUS_MAILER_PORT}
quarkus.mailer.ssl=${QUARKUS_MAILER_SSL}
quarkus.mailer.start-tls=${QUARKUS_MAILER_START_TLS}
quarkus.mailer.login=NONE
quarkus.mailer.mock=false

#quarkus.mailer.username=${QUARKUS_MAILER_USERNAME:}
#quarkus.mailer.password=${QUARKUS_MAILER_PASSWORD:}

# Email verification token expiration (in minutes)
serenia.email-verification.token-expiration-minutes=${SERENIA_EMAIL_VERIFICATION_TOKEN_EXPIRATION_MINUTES:1440}

# ========================================
# 8. SECURITY
# ========================================
serenia.security.key=${SERENIA_SECURITY_KEY}

# ========================================
# 9. OPENAI INTEGRATION
# ========================================
openai.api.key=${OPENAI_API_KEY}
openai.model=${OPENAI_MODEL}

# ========================================
# LOGGING CONFIGURATION
# ========================================
quarkus.log.level=${QUARKUS_LOG_LEVEL:INFO}
quarkus.log.category."com.lofo.serenia".level=${SERENIA_LOG_LEVEL:INFO}

# Production profile logging
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."com.lofo.serenia".level=INFO
%prod.quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Health check configuration
quarkus.smallrye-health.root-path=/q/health

serenia.system-prompt=${SERENIA_SYSTEM_PROMPT}
serenia.url=${SERENIA_URL}
serenia.front-url=${SERENIA_FRONT_URL}