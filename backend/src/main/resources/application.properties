# ========================================
# SERENIA APPLICATION CONFIGURATION
# ========================================

# ========================================
# 1. APPLICATION INFO
# ========================================
quarkus.application.name=Serenia
quarkus.http.port=${QUARKUS_HTTP_PORT:8080}

# ========================================
# 2. DATABASE CONFIGURATION
# ========================================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL}
quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME}
quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD}

# ========================================
# 3. LIQUIBASE MIGRATIONS
# ========================================
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.change-log=classpath:db/changelog/changelog.xml

# ========================================
# 4. HTTP & CORS CONFIGURATION
# ========================================
quarkus.http.cors.enabled=${CORS_ENABLED:true}
quarkus.http.cors.methods=${CORS_METHODS:GET,POST,PUT,DELETE,OPTIONS}
quarkus.http.cors.origins=${CORS_ORIGINS:http://localhost:4200}
quarkus.http.cors.access-control-allow-credentials=${CORS_ACCESS_CONTROL_ALLOW_CREDENTIALS:true}
quarkus.http.cors.access-control-allow-headers=${CORS_ACCESS_CONTROL_ALLOW_HEADERS:Content-Type,Authorization,X-Requested-With,Origin,Accept}
quarkus.http.cors.access-control-expose-headers=${CORS_ACCESS_CONTROL_EXPOSE_HEADERS:Authorization}

# ========================================
# 5. JWT SECURITY
# ========================================
mp.jwt.verify.publickey.location=${MP_JWT_VERIFY_PUBLICKEY_LOCATION}
mp.jwt.verify.issuer=${MP_JWT_VERIFY_ISSUER:serenia}
mp.jwt.token.header=${MP_JWT_TOKEN_HEADER:Authorization}
smallrye.jwt.sign.key.location=${SMALLRYE_JWT_SIGN_KEY_LOCATION}
smallrye.jwt.sign.key.id=${SMALLRYE_JWT_SIGN_KEY_ID:1}

# ========================================
# 6. SERENIA AUTHENTICATION
# ========================================
serenia.auth.jwt-issuer=${SERENIA_AUTH_JWT_ISSUER:serenia}
serenia.auth.expiration-time=${SERENIA_AUTH_EXPIRATION_TIME}
serenia.auth.max-users=${SERENIA_AUTH_MAX_USERS}

# ========================================
# 7. SERENIA TOKEN QUOTAS
# ========================================
serenia.tokens.input-limit-default=${SERENIA_TOKENS_INPUT_LIMIT_DEFAULT}
serenia.tokens.output-limit-default=${SERENIA_TOKENS_OUTPUT_LIMIT_DEFAULT}
serenia.tokens.total-limit-default=${SERENIA_TOKENS_TOTAL_LIMIT_DEFAULT}

# ========================================
# 8. EMAIL VERIFICATION CONFIGURATION
# ========================================
quarkus.mailer.from=${QUARKUS_MAILER_FROM:noreply@serenia.local}
quarkus.mailer.host=${QUARKUS_MAILER_HOST:localhost}
quarkus.mailer.port=${QUARKUS_MAILER_PORT:1025}
quarkus.mailer.tls=${QUARKUS_MAILER_SSL:false}
quarkus.mailer.start-tls=${QUARKUS_MAILER_START_TLS:OPTIONAL}
quarkus.mailer.login=NONE
quarkus.mailer.mock=false

#quarkus.mailer.username=${QUARKUS_MAILER_USERNAME:}
#quarkus.mailer.password=${QUARKUS_MAILER_PASSWORD:}

# Email verification token expiration (in minutes)
serenia.email-verification.token-expiration-minutes=${SERENIA_EMAIL_VERIFICATION_TOKEN_EXPIRATION_MINUTES:1440}

# ========================================
# 8. SECURITY
# ========================================
serenia.security.key=${SERENIA_SECURITY_KEY}

# ========================================
# 9. OPENAI INTEGRATION
# ========================================
openai.api.key=${OPENAI_API_KEY}
openai.model=${OPENAI_MODEL}

# ========================================
# 10. STRIPE INTEGRATION
# ========================================
stripe.api.key=${STRIPE_SECRET_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET:}
stripe.success.url=${STRIPE_SUCCESS_URL:http://localhost:4200/profile?payment=success}
stripe.cancel.url=${STRIPE_CANCEL_URL:http://localhost:4200/profile?payment=cancel}

# ========================================
# LOGGING CONFIGURATION
# ========================================
quarkus.log.level=DEBUG
quarkus.log.category."com.lofo.serenia".level=DEBUG

serenia.system-prompt=${SERENIA_SYSTEM_PROMPT}
serenia.url=${SERENIA_URL:http://localhost:8080}
serenia.front-url=${SERENIA_FRONT_URL:http://localhost:4200}
quarkus.http.root-path=${SERENIA_ROOT_PATH:}

# ========================================
# JACKSON CONFIGURATION
# ========================================
quarkus.jackson.fail-on-empty-beans=false
quarkus.jackson.write-dates-as-timestamps=false
quarkus.jackson.allow-explicit-serialization-inclusion=true


